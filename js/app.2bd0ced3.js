(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/scene/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"vendors-app"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0b72":function(t,e,a){},"14f8":function(t,e,a){},3944:function(t,e,a){},"3c5a":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("caad"),a("a9e3"),a("ac1f"),a("2532"),a("1276"),a("e623"),a("e379"),a("5dc8"),a("37e1");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=(a("5c0b"),a("2877")),o={},l=Object(r["a"])(o,n,i,!1,null,null,null),c=l.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pvw",style:{width:t.output.w+"px",height:t.output.h+"px"}},[a("div",{staticClass:"pvw-canvas"},[t._l(t.filterOfImg,(function(t){return a("ImgEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfText,(function(e){return a("TextEle",{key:e.id,attrs:{id:e.id,isShow:Number(e.pvw),data:e.data,updateTime:e.updateTime,resolution:t.$store.state.size.name}})})),t._l(t.filterOfVerticalText,(function(e){return a("VerticalTextEle",{key:e.id,attrs:{id:e.id,isShow:Number(e.pvw),data:e.data,updateTime:e.updateTime,resolution:t.$store.state.size.name}})})),t._l(t.filterOfTime,(function(t){return a("TimeEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfBar,(function(t){return a("BarEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfScore,(function(t){return a("ScoreEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})}))],2)])},p=[],f=(a("4160"),a("159b"),a("2909")),m=a("5530"),h=a("2f62"),v="//lcps.guangdianyun.tv",b={getDmsInfo:"//apiliveroom.dev.guangdianyun.tv/v1/Program/Login/getDmsInfo?uin=",getAppInfo:"//consoleapi.guangdianyun.tv/v1/bcc/lcpsMakePublic/getAppInfo?appId=",getPvwSceneList:v+"/bcc.scene/getPvwSceneList",getPgmSceneList:v+"/bcc.scene/getPgmSceneList"},y=b,g=a("4328"),w=a.n(g),T={name:"Pvw",data:function(){return{width:0,height:0,outputResolution:"",layoutList:[],clientId:"",dmsTimer:null}},created:function(){this.clientId="_"+String((new Date).getTime()+Math.floor(1e4*Math.random()+1))},mounted:function(){this.width=this.$store.state.size.w,this.height=this.$store.state.size.h,this.initDmsService(),this.getSceneList()},beforeDestroy:function(){clearInterval(this.dmsTimer),this.dmsTimer=null,ROP.Leave()},computed:Object(m["a"])(Object(m["a"])({},Object(h["b"])(["size","output"])),{},{filterOfImg:function(){var t=[];return this.layoutList.forEach((function(e){"img"===e.type&&t.push(e)})),t},filterOfText:function(){var t=[];return this.layoutList.forEach((function(e){"text"===e.type&&t.push(e)})),t},filterOfVerticalText:function(){var t=[];return this.layoutList.forEach((function(e){"verticaltext"===e.type&&t.push(e)})),t},filterOfTime:function(){var t=[];return this.layoutList.forEach((function(e){"time"===e.type&&t.push(e)})),t},filterOfBar:function(){var t=[];return this.layoutList.forEach((function(e){"bar"===e.type&&t.push(e)})),t},filterOfScore:function(){var t=[];return this.layoutList.forEach((function(e){"score"===e.type&&t.push(e)})),t}}),methods:{initDmsService:function(){var t=this,e=this;if("undefined"!==typeof ROP){var a="bcc_hsms_pvw_"+e.$store.state.lcpsData.appid;ROP.Enter("",e.$store.state.dmsInfo.subKey,e.clientId,!0),ROP.On("enter_suc",(function(){e.$sentry.captureMessage(e.$store.state.lcpsData.appid+"- DMS Enter_suc","info"),e.dmsTimer&&clearInterval(e.dmsTimer),ROP.Subscribe(a)})),ROP.On("enter_fail",(function(){e.$sentry.captureException(new Error(e.$store.state.lcpsData.appid+"- DMS Enter_Fail")),e.dmsTimer&&clearInterval(e.dmsTimer),e.dmsTimer=setInterval(e.initDmsService(),500)})),ROP.On("publish_data",(function(a){if("string"===typeof a&&a.length>1){var s=JSON.parse(a);t.$store.dispatch("updateOutputSize",{w:Number(s.w),h:Number(s.h)})}e.getSceneList()})),ROP.On("connectold",(function(){e.$sentry.captureException(new Error(e.$store.state.lcpsData.appid+"- DMS Connectold Losed")),e.dmsTimer&&clearInterval(e.dmsTimer),e.dmsTimer=setInterval(e.initDmsService(),500)})),ROP.On("offline",(function(t){e.$sentry.captureException(e.$store.state.lcpsData.appid+"- DMS Offline","info")})),ROP.On("reconnect",(function(){e.dmsTimer&&clearInterval(e.dmsTimer),e.$sentry.captureMessage(e.$store.state.lcpsData.appid+"- DMS Reconnect","info")})),ROP.On("losed",(function(){e.$sentry.captureException(new Error(e.$store.state.lcpsData.appid+"- DMS Losed")),e.dmsTimer&&clearInterval(e.dmsTimer),e.dmsTimer=setInterval(e.initDmsService(),500)}))}else this.initDmsService()},getSceneList:function(t){var e=this;this.$axios({method:"post",url:y.getPvwSceneList,data:w.a.stringify({appId:this.$store.state.lcpsData.appid,uin:this.$store.state.lcpsData.uin}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(t){t&&200===Number(t.data.code)&&0===Number(t.data.errorCode)?e.$store.dispatch("refreshData",{name:"pvwLayoutList",value:t.data.data}):(e.$sentry.setExtra("response",{res:t}),e.$sentry.captureException(new Error("场景列表获取失败:"+t.data.errorMessage)))})).catch((function(t){e.$sentry.setExtra("response",{err:t.response}),e.$sentry.captureException(new Error("场景列表获取异常:"+t))}))}},watch:{"$store.state.pvwLayoutList":{handler:function(t,e){this.layoutList=Object(f["a"])(t)},deep:!0,immediate:!0}}},x=T,S=(a("6576"),Object(r["a"])(x,d,p,!1,null,"2ee91bda",null)),_=S.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pgm",style:{width:t.output.w+"px",height:t.output.h+"px"}},[a("div",{staticClass:"pgm-canvas"},[t._l(t.filterOfImg,(function(t){return a("ImgEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfText,(function(e){return a("TextEle",{key:e.id,attrs:{id:e.id,isShow:Number(e.pgm),data:e.data,updateTime:e.updateTime,resolution:t.$store.state.size.name}})})),t._l(t.filterOfVerticalText,(function(e){return a("VerticalTextEle",{key:e.id,attrs:{id:e.id,isShow:Number(e.pgm),data:e.data,updateTime:e.updateTime,resolution:t.$store.state.size.name}})})),t._l(t.filterOfTime,(function(t){return a("TimeEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfBar,(function(t){return a("BarEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfScore,(function(t){return a("ScoreEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})}))],2)])},$=[],E={name:"Pgm",data:function(){return{width:0,height:0,outputResolution:"",layoutList:[],clientId:"",dmsTimer:null}},created:function(){this.clientId="_"+String((new Date).getTime()+Math.floor(1e4*Math.random()+1))},mounted:function(){this.initDmsService(),this.getSceneList()},beforeDestroy:function(){clearInterval(this.dmsTimer),this.dmsTimer=null,ROP.Leave()},computed:Object(m["a"])(Object(m["a"])({},Object(h["b"])(["size","output"])),{},{filterOfImg:function(){var t=[];return this.layoutList.forEach((function(e){"img"===e.type&&t.push(e)})),t},filterOfText:function(){var t=[];return this.layoutList.forEach((function(e){"text"===e.type&&t.push(e)})),t},filterOfVerticalText:function(){var t=[];return this.layoutList.forEach((function(e){"verticaltext"===e.type&&t.push(e)})),t},filterOfTime:function(){var t=[];return this.layoutList.forEach((function(e){"time"===e.type&&t.push(e)})),t},filterOfBar:function(){var t=[];return this.layoutList.forEach((function(e){"bar"===e.type&&t.push(e)})),t},filterOfScore:function(){var t=[];return this.layoutList.forEach((function(e){"score"===e.type&&t.push(e)})),t}}),methods:{initDmsService:function(){var t=this,e=this;if("undefined"!==typeof ROP){var a="bcc_hsms_"+e.$store.state.lcpsData.appid;ROP.Enter("",e.$store.state.dmsInfo.subKey,e.clientId,!0),ROP.On("enter_suc",(function(){e.$sentry.captureMessage(e.$store.state.lcpsData.appid+"- DMS Enter_suc","info"),e.dmsTimer&&clearInterval(e.dmsTimer),ROP.Subscribe(a)})),ROP.On("enter_fail",(function(){e.$sentry.captureException(new Error(e.$store.state.lcpsData.appid+"- DMS Enter_Fail")),e.dmsTimer&&clearInterval(e.dmsTimer),e.dmsTimer=setInterval(e.initDmsService(),500)})),ROP.On("publish_data",(function(a){if("string"===typeof a&&a.length>1){var s=JSON.parse(a);t.$store.dispatch("updateOutputSize",{w:Number(s.w),h:Number(s.h)})}e.getSceneList()})),ROP.On("connectold",(function(){e.$sentry.captureException(new Error(e.$store.state.lcpsData.appid+"- DMS Connectold Losed")),e.dmsTimer&&clearInterval(e.dmsTimer),e.dmsTimer=setInterval(e.initDmsService(),500)})),ROP.On("offline",(function(t){e.$sentry.captureException(e.$store.state.lcpsData.appid+"- DMS Offline","info")})),ROP.On("reconnect",(function(){e.dmsTimer&&clearInterval(e.dmsTimer),e.$sentry.captureMessage(e.$store.state.lcpsData.appid+"- DMS Reconnect","info")})),ROP.On("losed",(function(){e.$sentry.captureException(new Error(e.$store.state.lcpsData.appid+"- DMS Losed")),e.dmsTimer&&clearInterval(e.dmsTimer),e.dmsTimer=setInterval(e.initDmsService(),500)}))}else this.initDmsService()},getSceneList:function(){var t=this;this.$axios({method:"post",url:y.getPgmSceneList,data:w.a.stringify({appId:this.$store.state.lcpsData.appid,uin:this.$store.state.lcpsData.uin}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){e&&200===Number(e.data.code)&&0===Number(e.data.errorCode)?t.$store.dispatch("refreshData",{name:"layoutList",value:e.data.data}):(t.$sentry.setExtra("response",{res:e}),t.$sentry.captureException(new Error("场景列表获取失败:"+e.data.errorMessage)))})).catch((function(e){t.$sentry.setExtra("response",{err:e.response}),t.$sentry.captureException(new Error("场景列表获取异常:"+e))}))}},watch:{"$store.state.layoutList":{handler:function(t,e){this.layoutList=Object(f["a"])(t)},deep:!0,immediate:!0}}},D=E,N=(a("986b"),Object(r["a"])(D,O,$,!1,null,"75b5be96",null)),I=N.exports;s["a"].use(u["a"]);var z=new u["a"]({base:"/scene/",mode:"history",routes:[{path:"/",name:"index",component:I},{path:"/pvw",name:"Pvw",component:_},{path:"/pgm",name:"Pgm",component:I}]});a("b0c0");s["a"].use(h["a"]);var L=new h["a"].Store({state:{dmsInfo:{},layoutList:[],pvwLayoutList:[],size:{name:"720p",w:1280,h:720},output:{w:1280,h:720},lcpsData:{}},getters:{getData:function(t){return t}},mutations:{REFRESH_DATA:function(t,e){t[e.name]=e.value},UPDATE_OUTPUT_SIZE:function(t,e){s["a"].set(t.output,"w",e.w),s["a"].set(t.output,"h",e.h)}},actions:{refreshData:function(t,e){var a=t.commit;a("REFRESH_DATA",e)},updateOutputSize:function(t,e){var a=t.commit;a("UPDATE_OUTPUT_SIZE",e)}}}),C=a("bc3a"),k=a.n(C),M=(a("b64b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"ele",staticClass:"img-wrap",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("img",{ref:"img",staticClass:"img-ele",style:t.styleImg,attrs:{draggable:"false",src:t.data.src},on:{load:t.onLoad}})])}),R=[],P={name:"ImgEle",props:{isShow:Number,data:Object,updateTime:Number,selected:Boolean,removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",zoom:this.data.zoom+"%",zIndex:this.updateTime}},styleImg:function(){return{height:this.$store.state.size.h+"px"}}},methods:{onLoad:function(){this.$refs.img.style.opacity=1,this.$refs.ele.style.opacity=this.data.opacity/100}}},B=P,j=(a("d5f6"),Object(r["a"])(B,M,R,!1,null,"34e00d62",null)),Y=j.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"ele",staticClass:"text-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("section",{ref:"content",staticClass:"content"},[a("div",[a("span",{ref:"text",staticClass:"text",style:t.styleText},[t._v(t._s(t.data.cont))])])])])},F=[],U=(a("c7cd"),{name:"TextEle",props:{id:Number,isShow:Number,data:Object,updateTime:Number,selected:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1},resolution:String,fixed:{type:Boolean,default:!1}},data:function(){return{timer:null,width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},mounted:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.text.clientWidth,t.$refs.ele.style.opacity=1,"720p"===t.resolution?t.addAnimation(t.id,1280,t.width):"1080p"===t.resolution?t.addAnimation(t.id,1920,t.width):"2k"===t.resolution?t.addAnimation(t.id,2560,t.width):"4k"===t.resolution&&t.addAnimation(t.id,3840,t.width)}))},computed:{styleBasic:function(){return"no"===this.data.show||this.fixed?{top:this.data.top+"%",left:this.data.left+"%",zIndex:this.updateTime}:{top:this.data.top+"%",left:"100%",zIndex:this.updateTime}},styleText:function(){var t,e=this.width>this.$store.state.size.w?Math.round(this.data.speed*this.width/(1e3*this.$store.state.size.w)):Math.round(this.data.speed/1e3);return"no"===this.data.show?{fontSize:this.data.size+"px",fontWeight:"bold",color:this.data.color}:("one"===this.data.show?t=!1:"loop"===this.data.show&&(t=!0),{fontSize:this.data.size+"px",fontWeight:"bold",color:this.data.color,animationName:"text_marquee_"+this.id,animationTimingFunction:"linear",animationDirection:"normal",animationFillMode:"none",animationIterationCount:t?"infinite":"initial",animationDuration:e+"s"})}},methods:{addAnimation:function(t,e,a){var s=e+a;this.addStylesheetRules(["@keyframes text_marquee_"+t+" {\n            0% {\n              transform: translateX(0px);\n              -webkit-transform: translateX(0px);\n            }\n            100% {\n              transform: translateX(-"+s+"px);\n              -webkit-transform: translateX(-"+s+"px);\n            }\n          }"])},addStylesheetRules:function(t){var e=document.createElement("style");document.head.appendChild(e);for(var a=e.sheet,s=0;s<t.length;s++)a.insertRule(t[s],a.cssRules.length)}}}),H=U,X=(a("81d1"),Object(r["a"])(H,A,F,!1,null,"50922114",null)),V=X.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"ele",staticClass:"vertical-text-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("section",{ref:"content",staticClass:"content"},[a("div",[a("span",{ref:"verticaltext",staticClass:"verticaltext",style:t.styleText},t._l(t.getText,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),0)])])])},J=[],q={name:"VerticalTextEle",props:{id:Number,isShow:Number,data:Object,updateTime:Number,selected:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1},resolution:String,fixed:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},mounted:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.verticaltext.clientWidth,t.height=t.$refs.verticaltext.clientHeight,t.$refs.ele.style.opacity=1,"720p"===t.resolution?t.addAnimation(t.id,720,t.height):"1080p"===t.resolution?t.addAnimation(t.id,1080,t.height):"2k"===t.resolution?t.addAnimation(t.id,1440,t.height):"4k"===t.resolution&&t.addAnimation(t.id,2160,t.height)}))},computed:{getText:function(){var t=this.data.cont.split("\n");return t},styleBasic:function(){return"no"===this.data.show?{top:this.data.top+"%",left:this.data.left+"%",zIndex:this.updateTime}:{top:"100%",left:this.data.left+"%",zIndex:this.updateTime}},styleText:function(){var t,e=this.height>this.$store.state.size.h?Math.round(this.data.speed*this.height/(1e3*this.$store.state.size.h)):Math.round(this.data.speed/1e3);return"no"===this.data.show?{fontSize:this.data.size+"px",fontWeight:"bold",color:this.data.color}:("one"===this.data.show?(t=!1,this.fixed&&(t=!0)):"loop"===this.data.show&&(t=!0),{fontSize:this.data.size+"px",fontWeight:"bold",color:this.data.color,animationName:"text_marquee_"+this.id,animationTimingFunction:"linear",animationDirection:"normal",animationFillMode:"none",animationIterationCount:t?"infinite":"initial",animationDuration:e+"s"})}},methods:{addAnimation:function(t,e,a){var s=e+a;this.addStylesheetRules(["@keyframes text_marquee_"+t+" {\n            0% {\n              transform: translateY(0px);\n              -webkit-transform: translateY(0px);\n            }\n            100% {\n              transform: translateY(-"+s+"px);\n              -webkit-transform: translateY(-"+s+"px);\n            }\n          }"])},addStylesheetRules:function(t){var e=document.createElement("style");document.head.appendChild(e);for(var a=e.sheet,s=0;s<t.length;s++)a.insertRule(t[s],a.cssRules.length)}}},K=q,Z=(a("a7ab"),Object(r["a"])(K,W,J,!1,null,"27f90cea",null)),G=Z.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"ele",staticClass:"time-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("section",{ref:"content",staticClass:"content"},[a("div",[a("span",{ref:"time",staticClass:"time",style:t.styleText},[t._v(t._s(t.timeString))])])])])},tt=[],et=a("5a0c"),at=a.n(et),st={name:"TimeEle",props:{id:Number,isShow:Number,data:Object,updateTime:Number,selected:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{timer:null,timeString:"",format_data:"YYYY-MM-DD dddd HH:mm:ss",width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},created:function(){var t=this;switch(this.data.style){case 1:this.format_data="HH:mm:ss";break;case 2:this.format_data="YYYY-MM-DD";break;case 3:this.format_data="YYYY-MM-DD HH:mm:ss";break;default:break}this.timer&&clearInterval(this.timer),this.timeString=at()().format(this.format_data),this.timer=setInterval((function(){t.timeString=at()().format(t.format_data)}),1e3)},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.ele.style.opacity=1}))},beforeDestroy:function(){clearInterval(this.timer)},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",zIndex:this.updateTime}},styleText:function(){return{fontSize:this.data.size+"px",fontWeight:"500",color:this.data.color}},dateString:function(){var t=this;return function(){return at()().format(t.format_data)}}},watch:{"data.style":{handler:function(t,e){var a=this;if(t!==e){switch(t){case 1:this.format_data="HH:mm:ss";break;case 2:this.format_data="YYYY-MM-DD";break;case 3:this.format_data="YYYY-MM-DD HH:mm:ss";break;default:break}this.timer&&clearInterval(this.timer),this.timeString=at()().format(this.format_data),this.timer=setInterval((function(){a.timeString=at()().format(a.format_data)}),1e3)}},deep:!0,immediate:!0}}},nt=st,it=(a("bcf5"),Object(r["a"])(nt,Q,tt,!1,null,"83516254",null)),rt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bar",staticClass:"bar-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[t.data.style<=3?a("img",{ref:"img",staticClass:"m-img",attrs:{draggable:"false",src:"https://static.guangdianyun.tv/static/broadCloud/console/newBcc/lcpsMake/img/bar"+t.data.style+".png"},on:{load:t.onLoad}}):t._e(),t.data.style>=4&&"720p"==t.$store.state.size.name?a("img",{ref:"img",staticClass:"m-img",attrs:{draggable:"false",src:"https://guangdianyun.oss-cn-hangzhou.aliyuncs.com/lcpsSource/bar/"+t.data.style+".png"},on:{load:t.onLoad}}):t._e(),t.data.style>=4&&"1080p"==t.$store.state.size.name?a("img",{ref:"img",staticClass:"m-img",attrs:{draggable:"false",src:"https://guangdianyun.oss-cn-hangzhou.aliyuncs.com/lcpsSource/bar/"+t.data.style+"_h.png"},on:{load:t.onLoad}}):t._e(),t.data.style>=4&&"2k"==t.$store.state.size.name?a("img",{ref:"img",staticClass:"m-img",attrs:{draggable:"false",src:"https://guangdianyun.oss-cn-hangzhou.aliyuncs.com/lcpsSource/bar/"+t.data.style+"_h.png"},on:{load:t.onLoad}}):t._e(),t.data.style>=4&&"4k"==t.$store.state.size.name?a("img",{ref:"img",staticClass:"m-img",attrs:{draggable:"false",src:"https://guangdianyun.oss-cn-hangzhou.aliyuncs.com/lcpsSource/bar/"+t.data.style+"_h.png"},on:{load:t.onLoad}}):t._e(),"720p"==t.$store.state.size.name?a("div",{class:[{"bar-font-1":1==Number(t.data.style),"bar-font-2":2==Number(t.data.style),"bar-font-3":3==Number(t.data.style),"bar-font-4":4==Number(t.data.style),"bar-font-5":5==Number(t.data.style),"bar-font-6":6==Number(t.data.style),"bar-font-7":7==Number(t.data.style),"bar-font-8":8==Number(t.data.style),"bar-font-9":9==Number(t.data.style),"bar-font-10":10==Number(t.data.style)}]},[a("div",{staticClass:"bar-text-main",style:t.styleFont},[t._v(t._s(t.data.maintitle))]),a("div",{staticClass:"bar-text-sub",style:t.styleFont},[t._v(t._s(t.data.subtitle))])]):t._e(),"1080p"==t.$store.state.size.name||"2k"==t.$store.state.size.name||"4k"==t.$store.state.size.name?a("div",{class:[{"bar-font-1-high":1==Number(t.data.style),"bar-font-2-high":2==Number(t.data.style),"bar-font-3-high":3==Number(t.data.style),"bar-font-4-high":4==Number(t.data.style),"bar-font-5-high":5==Number(t.data.style),"bar-font-6-high":6==Number(t.data.style),"bar-font-7-high":7==Number(t.data.style),"bar-font-8-high":8==Number(t.data.style),"bar-font-9-high":9==Number(t.data.style),"bar-font-10-high":10==Number(t.data.style)}]},[a("div",{staticClass:"bar-text-main",style:t.styleFont},[t._v(t._s(t.data.maintitle))]),a("div",{staticClass:"bar-text-sub",style:t.styleFont},[t._v(t._s(t.data.subtitle))])]):t._e()])},lt=[],ct={name:"BarEle",props:{isShow:Number,data:Object,updateTime:Number,selected:Boolean,removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",zoom:this.data.zoom+"%",zIndex:this.updateTime}},styleAnime:function(){return{}},styleFont:function(){return{fontSize:this.data.size+"px",color:this.data.color}}},methods:{onLoad:function(){this.$refs.img.style.opacity=1,this.$refs.bar.style.opacity=this.data.opacity/100}}},ut=ct,dt=(a("9901"),Object(r["a"])(ut,ot,lt,!1,null,"6a0f130c",null)),pt=dt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"score",staticClass:"score-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("img",{ref:"img",staticClass:"m-img",attrs:{draggable:"false",src:"https://static.guangdianyun.tv/static/broadCloud/console/newBcc/lcpsMake/img/score"+t.data.style+".png"},on:{load:t.onLoad}}),a("div",{class:[{"score-font-1":1==Number(t.data.style),"score-font-2":2==Number(t.data.style),"score-font-3":3==Number(t.data.style)}]},[a("div",{staticClass:"score-home-name",style:t.styleFont},[t._v(t._s(t.data.home.name))]),a("div",{staticClass:"score-home-score",style:t.styleFont},[t._v(" "+t._s(t.data.home.score)+" ")]),a("div",{staticClass:"score-guest-name",style:t.styleFont},[t._v(" "+t._s(t.data.guest.name)+" ")]),a("div",{staticClass:"score-guest-score",style:t.styleFont},[t._v(" "+t._s(t.data.guest.score)+" ")])])])},mt=[],ht={name:"ScoreEle",props:{isShow:Number,data:Object,updateTime:Number,selected:Boolean,removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",zoom:this.data.zoom+"%",zIndex:this.updateTime}},styleAnime:function(){return{}},styleFont:function(){return{fontSize:this.data.size+"px",color:this.data.color}}},methods:{onLoad:function(){this.$refs.img.style.opacity=1,this.$refs.score.style.opacity=this.data.opacity/100}}},vt=ht,bt=(a("9082"),Object(r["a"])(vt,ft,mt,!1,null,"50eae00a",null)),yt=bt.exports,gt={ImgEle:Y,TextEle:V,VerticalTextEle:G,TimeEle:rt,BarEle:pt,ScoreEle:yt},wt=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||(Object.keys(gt).forEach((function(t){e.component(gt[t].name,gt[t])})),t.installed=!0)};wt.installed=!1,"undefined"!==typeof window&&window.Vue&&(wt(window.Vue),wt.installed=!0);var Tt=Object(m["a"])(Object(m["a"])({},gt),{},{install:wt}),xt=Tt,St=a("dc21"),_t=a("5921"),Ot=a("82dc"),$t=a("e594"),Et=(a("c975"),a("4d63"),a("25f0"),a("5319"),{parseUrl:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getCookie:function(t){for(var e=t+"=",a=decodeURIComponent(document.cookie),s=a.split(";"),n=0;n<s.length;n++){var i=s[n];while(" "===i.charAt(0))i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""}}),Dt=a("9224");a("3c5a"),a("c860");s["a"].config.productionTip=!1,s["a"].use(xt),St["e"]({dsn:"https://f9ba76fc619443d5b6979e58c28a1b7f@sentry.guangdianyun.tv/8",integrations:[new $t["a"]({Vue:s["a"],attachProps:!0})],release:Dt.version,environment:"production"}),s["a"].prototype.$axios=k.a,s["a"].prototype.$utils=Et,s["a"].prototype.$sentry=_t,z.beforeEach((function(t,e,a){var s=String(Et.parseUrl("appId")),n=String(Et.parseUrl("uin")),i="";i="";var r={appid:s,uin:n,env:i};L.dispatch("refreshData",{name:"lcpsData",value:r}),k()({method:"get",url:y.getDmsInfo+n,headers:{"X-Ca-Stage":i,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(t){t&&200===Number(t.data.code)&&0===Number(t.data.errorCode)?(L.dispatch("refreshData",{name:"dmsInfo",value:t.data.data}),k()({method:"get",url:y.getAppInfo+s,headers:{"X-Ca-Stage":i,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(t){if(t&&200===Number(t.data.code)&&0===Number(t.data.errorCode)){var e=0,s=0;"720p"===t.data.data.outputResolution?(e=1280,s=720):"1080p"===t.data.data.outputResolution?(e=1920,s=1080):"2k"===t.data.data.outputResolution?(e=2560,s=1440):"4k"===t.data.data.outputResolution&&(e=3840,s=2160),L.dispatch("refreshData",{name:"size",value:{name:t.data.data.outputResolution,w:e,h:s}});var n=JSON.parse(t.data.data.makeLcpsConfig).pgwArray,i=n.filter((function(t){return t.enable&&!t.publishURL.includes("127.0.0.1")})),r=i[0].videoSize.split("x");return L.dispatch("updateOutputSize",{w:Number(r[0]),h:Number(r[1])}),a()}Ot["g"]("response",{res:t}),Ot["c"](new Error("导播台信息获取失败:"+t.data.errorMessage))})).catch((function(t){Ot["g"]("response",{err:t.response}),Ot["c"](new Error("导播台信息获取异常:"+t))}))):(Ot["g"]("response",{res:t}),Ot["c"](new Error("DMS 信息获取失败:"+t.data.errorMessage)))})).catch((function(t){Ot["g"]("response",{err:t.response}),Ot["c"](new Error("DMS 信息获取异常:"+t))}))})),new s["a"]({router:z,store:L,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"5f56":function(t,e,a){},6261:function(t,e,a){},6576:function(t,e,a){"use strict";var s=a("6261"),n=a.n(s);n.a},"7bbc":function(t,e,a){},"81d1":function(t,e,a){"use strict";var s=a("9e32"),n=a.n(s);n.a},"842e":function(t,e,a){},9082:function(t,e,a){"use strict";var s=a("0b72"),n=a.n(s);n.a},9224:function(t){t.exports=JSON.parse('{"name":"lcps-scene","version":"0.7.2","private":true,"author":"Whzcorcd <whzcorcd@gmail.com>","scripts":{"test:unit":"vue-cli-service test:unit","lint":"vue-cli-service lint","build:dev":"cross-env run_server=development vue-cli-service build --no-clean","build:pre":"cross-env run_server=preview vue-cli-service build --no-clean","build:prod":"cross-env run_server=production vue-cli-service build --no-clean","format":"prettier-eslint --write \\"src/**/*.js\\" \\"src/**/*.vue\\"","serve:dev":"cross-env run_server=development vue-cli-service serve -mode development","serve:pre":"cross-env run_server=preview vue-cli-service serve -mode development","serve:prod":"cross-env run_server=production vue-cli-service serve -mode development"},"dependencies":{"@sentry/browser":"^5.15.5","@sentry/integrations":"^5.15.5","axios":"^0.19.0","core-js":"^3.3.2","dayjs":"^1.8.16","vue":"^2.6.10","vue-router":"^3.0.3","vuex":"^3.0.1"},"devDependencies":{"@vue/cli-plugin-babel":"~4.3.1","@vue/cli-plugin-eslint":"~4.3.1","@vue/cli-plugin-unit-jest":"~4.3.1","@vue/cli-service":"~4.3.1","@vue/test-utils":"1.0.0-beta.29","babel-core":"7.0.0-bridge.0","babel-eslint":"^10.0.3","babel-jest":"^23.6.0","compression-webpack-plugin":"^3.0.0","cross-env":"^6.0.3","eslint":"^6.7.2","eslint-plugin-html":"^6.0.0","eslint-plugin-prettier":"^3.1.1","eslint-plugin-vue":"^6.1.2","node-sass":"^4.9.0","prettier-eslint":"^9.0.1","prettier-eslint-cli":"^5.0.0","sass-loader":"^8.0.0","terser-webpack-plugin":"^2.2.1","vue-template-compiler":"^2.6.10"}}')},"986b":function(t,e,a){"use strict";var s=a("5f56"),n=a.n(s);n.a},9901:function(t,e,a){"use strict";var s=a("842e"),n=a.n(s);n.a},"9c0c":function(t,e,a){},"9e32":function(t,e,a){},a7ab:function(t,e,a){"use strict";var s=a("14f8"),n=a.n(s);n.a},bcf5:function(t,e,a){"use strict";var s=a("3944"),n=a.n(s);n.a},c860:function(t,e,a){},d5f6:function(t,e,a){"use strict";var s=a("7bbc"),n=a.n(s);n.a}});