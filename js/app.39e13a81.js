(function(t){function e(e){for(var s,o,n=e[0],d=e[1],u=e[2],l=0,h=[];l<n.length;l++)o=n[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);c&&c(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var d=a[n];0!==r[d]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/scene/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var c=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0192":function(t,e,a){},"019c":function(t,e,a){"use strict";var s=a("0704"),r=a.n(s);r.a},"0544":function(t,e,a){"use strict";var s=a("6a9e"),r=a.n(s);r.a},"0704":function(t,e,a){},"0ab9":function(t,e,a){},"11e5":function(t,e,a){},2977:function(t,e,a){"use strict";var s=a("0192"),r=a.n(s);r.a},"2d08":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("a9e3"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=(a("5c0b"),a("2877")),n={},d=Object(o["a"])(n,r,i,!1,null,null,null),u=d.exports,c=a("8c4f"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pvw",style:{width:t.width+"px",height:t.height+"px"}},[a("div",{staticClass:"pvw-canvas"},[t._l(t.filterOfImg,(function(t){return a("ImgEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfText,(function(e){return a("TextEle",{key:e.id,attrs:{id:e.id,isShow:Number(e.pvw),data:e.data,updateTime:e.updateTime,resolution:t.$store.state.size.name}})})),t._l(t.filterOfBar,(function(t){return a("BarEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfScore,(function(t){return a("ScoreEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfTime,(function(t){return a("TimeEle",{key:t.id,attrs:{isShow:Number(t.pvw),data:t.data,updateTime:t.updateTime}})}))],2)])},h=[],m=(a("4160"),a("0d03"),a("159b"),a("284c")),p="//lcps.guangdianyun.tv",f={getDmsInfo:"//apiliveroom.dev.guangdianyun.tv/v1/Program/Login/getDmsInfo?uin=",getAppInfo:"//consoleapi.guangdianyun.tv/v1/bcc/lcpsMakePublic/getAppInfo?appId=",getPvwSceneList:p+"/bcc.scene/getPvwSceneList",getPgmSceneList:p+"/bcc.scene/getPgmSceneList"},v=f,g=a("4328"),y=a.n(g),w={name:"Pvw",data:function(){return{width:0,height:0,outputResolution:"",layoutList:[],clientId:"",dmsTimer:null}},created:function(){this.clientId="_"+String((new Date).getTime()+Math.floor(1e4*Math.random()+1))},mounted:function(){this.width=this.$store.state.size.w,this.height=this.$store.state.size.h,this.initDmsService(),this.getSceneList()},beforeDestroy:function(){clearInterval(this.dmsTimer),this.dmsTimer=null,ROP.Leave()},computed:{filterOfImg:function(){var t=[];return this.layoutList.forEach((function(e){"img"===e.type&&t.push(e)})),t},filterOfText:function(){var t=[];return this.layoutList.forEach((function(e){"text"===e.type&&t.push(e)})),t},filterOfBar:function(){var t=[];return this.layoutList.forEach((function(e){"bar"===e.type&&t.push(e)})),t},filterOfScore:function(){var t=[];return this.layoutList.forEach((function(e){"score"===e.type&&t.push(e)})),t},filterOfTime:function(){var t=[];return this.layoutList.forEach((function(e){"time"===e.type&&t.push(e)})),t}},methods:{initDmsService:function(){var t=this;if("undefined"!==typeof ROP){var e="bcc_hsms_pvw_"+t.$store.state.lcpsData.appid;ROP.Enter("",t.$store.state.dmsInfo.subKey,t.clientId,!0),ROP.On("enter_suc",(function(){t.$sentry.captureMessage(t.$store.state.lcpsData.appid+"- DMS Enter_suc","info"),t.dmsTimer&&clearInterval(t.dmsTimer),ROP.Subscribe(e)})),ROP.On("enter_fail",(function(){t.$sentry.captureException(new Error(t.$store.state.lcpsData.appid+"- DMS Enter_Fail")),t.dmsTimer&&clearInterval(t.dmsTimer),t.dmsTimer=setInterval(t.initDmsService(),500)})),ROP.On("publish_data",(function(e){JSON.parse(e);t.getSceneList()})),ROP.On("connectold",(function(){t.$sentry.captureException(new Error(t.$store.state.lcpsData.appid+"- DMS Connectold Losed")),t.dmsTimer&&clearInterval(t.dmsTimer),t.dmsTimer=setInterval(t.initDmsService(),500)})),ROP.On("offline",(function(e){t.$sentry.captureException(t.$store.state.lcpsData.appid+"- DMS Offline","info")})),ROP.On("reconnect",(function(){t.dmsTimer&&clearInterval(t.dmsTimer),t.$sentry.captureMessage(t.$store.state.lcpsData.appid+"- DMS Reconnect","info")})),ROP.On("losed",(function(){t.$sentry.captureException(new Error(t.$store.state.lcpsData.appid+"- DMS Losed")),t.dmsTimer&&clearInterval(t.dmsTimer),t.dmsTimer=setInterval(t.initDmsService(),500)}))}else this.initDmsService()},getSceneList:function(){var t=this;this.$axios({method:"post",url:v.getPgmSceneList,data:y.a.stringify({appId:this.$store.state.lcpsData.appid,uin:this.$store.state.lcpsData.uin}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){e&&200===Number(e.data.code)&&0===Number(e.data.errorCode)?t.$store.dispatch("refreshData",{name:"pvwLayoutList",value:e.data.data}):(t.$sentry.setExtra("response",{res:e}),t.$sentry.captureException(new Error("场景列表获取失败:"+e.data.errorMessage)))})).catch((function(e){t.$sentry.setExtra("response",{err:e.response}),t.$sentry.captureException(new Error("场景列表获取异常:"+e))}))}},watch:{"$store.state.pvwLayoutList":{handler:function(t,e){this.layoutList=Object(m["a"])(t)},deep:!0,immediate:!0}}},b=w,$=(a("e9b7"),Object(o["a"])(b,l,h,!1,null,"447c39a6",null)),z=$.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pgm",style:{width:t.width+"px",height:t.height+"px"}},[a("div",{staticClass:"pgm-canvas"},[t._l(t.filterOfImg,(function(t){return a("ImgEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfText,(function(e){return a("TextEle",{key:e.id,attrs:{id:e.id,isShow:Number(e.pgm),data:e.data,updateTime:e.updateTime,resolution:t.$store.state.size.name}})})),t._l(t.filterOfBar,(function(t){return a("BarEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfScore,(function(t){return a("ScoreEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})})),t._l(t.filterOfTime,(function(t){return a("TimeEle",{key:t.id,attrs:{isShow:Number(t.pgm),data:t.data,updateTime:t.updateTime}})}))],2)])},T=[],O={name:"Pgm",data:function(){return{width:0,height:0,outputResolution:"",layoutList:[],clientId:"",dmsTimer:null}},created:function(){this.clientId="_"+String((new Date).getTime()+Math.floor(1e4*Math.random()+1))},mounted:function(){this.width=this.$store.state.size.w,this.height=this.$store.state.size.h,this.initDmsService(),this.getSceneList()},beforeDestroy:function(){clearInterval(this.dmsTimer),this.dmsTimer=null,ROP.Leave()},computed:{filterOfImg:function(){var t=[];return this.layoutList.forEach((function(e){"img"===e.type&&t.push(e)})),t},filterOfText:function(){var t=[];return this.layoutList.forEach((function(e){"text"===e.type&&t.push(e)})),t},filterOfBar:function(){var t=[];return this.layoutList.forEach((function(e){"bar"===e.type&&t.push(e)})),t},filterOfScore:function(){var t=[];return this.layoutList.forEach((function(e){"score"===e.type&&t.push(e)})),t},filterOfTime:function(){var t=[];return this.layoutList.forEach((function(e){"time"===e.type&&t.push(e)})),t}},methods:{initDmsService:function(){var t=this;if("undefined"!==typeof ROP){var e="bcc_hsms_"+t.$store.state.lcpsData.appid;ROP.Enter("",t.$store.state.dmsInfo.subKey,t.clientId,!0),ROP.On("enter_suc",(function(){t.$sentry.captureMessage(t.$store.state.lcpsData.appid+"- DMS Enter_suc","info"),t.dmsTimer&&clearInterval(t.dmsTimer),ROP.Subscribe(e)})),ROP.On("enter_fail",(function(){t.$sentry.captureException(new Error(t.$store.state.lcpsData.appid+"- DMS Enter_Fail")),t.dmsTimer&&clearInterval(t.dmsTimer),t.dmsTimer=setInterval(t.initDmsService(),500)})),ROP.On("publish_data",(function(e){JSON.parse(e);t.getSceneList()})),ROP.On("connectold",(function(){t.$sentry.captureException(new Error(t.$store.state.lcpsData.appid+"- DMS Connectold Losed")),t.dmsTimer&&clearInterval(t.dmsTimer),t.dmsTimer=setInterval(t.initDmsService(),500)})),ROP.On("offline",(function(e){t.$sentry.captureException(t.$store.state.lcpsData.appid+"- DMS Offline","info")})),ROP.On("reconnect",(function(){t.dmsTimer&&clearInterval(t.dmsTimer),t.$sentry.captureMessage(t.$store.state.lcpsData.appid+"- DMS Reconnect","info")})),ROP.On("losed",(function(){t.$sentry.captureException(new Error(t.$store.state.lcpsData.appid+"- DMS Losed")),t.dmsTimer&&clearInterval(t.dmsTimer),t.dmsTimer=setInterval(t.initDmsService(),500)}))}else this.initDmsService()},getSceneList:function(){var t=this;this.$axios({method:"post",url:v.getPgmSceneList,data:y.a.stringify({appId:this.$store.state.lcpsData.appid,uin:this.$store.state.lcpsData.uin}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){e&&200===Number(e.data.code)&&0===Number(e.data.errorCode)?t.$store.dispatch("refreshData",{name:"layoutList",value:e.data.data}):(t.$sentry.setExtra("response",{res:e}),t.$sentry.captureException(new Error("场景列表获取失败:"+e.data.errorMessage)))})).catch((function(e){t.$sentry.setExtra("response",{err:e.response}),t.$sentry.captureException(new Error("场景列表获取异常:"+e))}))}},watch:{"$store.state.layoutList":{handler:function(t,e){this.layoutList=Object(m["a"])(t)},deep:!0,immediate:!0}}},x=O,S=(a("019c"),Object(o["a"])(x,M,T,!1,null,"23a5ebb6",null)),_=S.exports;s["a"].use(c["a"]);var E=new c["a"]({base:"/scene/",mode:"history",routes:[{path:"/",name:"index",component:_},{path:"/pvw",name:"Pvw",component:z},{path:"/pgm",name:"Pgm",component:_}]}),D=(a("b0c0"),a("2f62"));s["a"].use(D["a"]);var L=new D["a"].Store({state:{dmsInfo:{},layoutList:[],pvwLayoutList:[],size:{name:"720p",w:1280,h:720},lcpsData:{}},getters:{getData:function(t){return t}},mutations:{refreshData:function(t,e){t[e.name]=e.value}},actions:{refreshData:function(t,e){var a=t.commit;a("refreshData",e)}}}),k=a("bc3a"),C=a.n(k),N=a("2b27"),I=a.n(N),P=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("2fa7")),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.isShow?a("div",{staticClass:"img-wrap",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("img",{ref:"img",staticClass:"img-ele",style:t.styleImg,attrs:{draggable:"false",src:t.data.src}})]):t._e()},j=[],B={name:"ImgEle",props:{isShow:Number,data:Object,updateTime:Number,selected:Boolean,removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",opacity:this.data.opacity/100,zoom:this.data.zoom+"%",zIndex:this.updateTime}},styleImg:function(){return{height:this.$store.state.size.h+"px"}}},methods:{mouseDown:function(t){var e=this,a=.3125;if("1080p"===this.$store.state.size.name&&(a=.20833333),this.removable){this.$nextTick((function(){e.width=e.$refs.img.clientWidth,e.height=e.$refs.img.clientHeight})),this.startY=t.clientY,this.startX=t.clientX,this.startLeft=Math.round(Number(this.data.left)*this.$store.state.size.w/100),this.startTop=Math.round(Number(this.data.top)*this.$store.state.size.h/100);var s=function(t){var s=t.clientX,r=t.clientY;if(e.allowedOverStep)e.data.top=Math.round(100*(r-e.startY+e.startTop)/e.$store.state.size.h),e.data.left=Math.round(100*(s-e.startX+e.startLeft)/e.$store.state.size.w);else{var i=Math.round(100*((r-e.startY)/a+e.startTop)/e.$store.state.size.h);i<0?e.data.top=0:Math.round(i*e.$store.state.size.h/100+Math.round(e.height*e.data.zoom/100))>e.$store.state.size.h?e.data.top=100*(e.$store.state.size.h-Math.round(e.height*e.data.zoom/100))/e.$store.state.size.h:e.data.top=i;var o=Math.round(100*((s-e.startX)/a+e.startLeft)/e.$store.state.size.w);o<0?e.data.left=0:Math.round(o*e.$store.state.size.w/100+Math.round(e.width*e.data.zoom/100))>e.$store.state.size.w?e.data.left=100*(e.$store.state.size.w-Math.round(e.width*e.data.zoom/100))/e.$store.state.size.w:e.data.left=o}},r=function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)}},keyboard:function(t){t.preventDefault(),t.stopPropagation(),13===t.keyCode||(37===t.keyCode?this.data.left--:38===t.keyCode?this.data.top--:39===t.keyCode?this.data.left++:40===t.keyCode&&this.data.top++),this.selfAdapation()},selfAdapation:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.img.clientWidth,t.height=t.$refs.img.clientHeight,Math.round(t.width*t.data.zoom/100)>t.$store.state.size.w&&(t.data.zoom=Math.round(100*t.$store.state.size.w/t.width));var e=t.data.top;e<0?t.data.top=0:Math.round(e*t.$store.state.size.h/100+Math.round(t.height*t.data.zoom/100))>t.$store.state.size.h?t.data.top=100*(t.$store.state.size.h-Math.round(t.height*t.data.zoom/100))/t.$store.state.size.h:t.data.top=e;var a=t.data.left;a<0?t.data.left=0:Math.round(a*t.$store.state.size.w/100+Math.round(t.width*t.data.zoom/100))>t.$store.state.size.w?t.data.left=100*(t.$store.state.size.w-Math.round(t.width*t.data.zoom/100))/t.$store.state.size.w:t.data.left=a}))}}},R=B,X=(a("0544"),Object(o["a"])(R,Y,j,!1,null,"1306348a",null)),H=X.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.isShow?a("div",{staticClass:"text-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("section",{ref:"content",staticClass:"content"},[a("div",[a("span",{ref:"text",staticClass:"text",style:t.styleText},[t._v(t._s(t.data.cont))])])])]):t._e()},A=[],W=(a("c7cd"),{name:"TextEle",props:{id:Number,isShow:Number,data:Object,updateTime:Number,selected:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1},resolution:String,fixed:{type:Boolean,default:!1}},data:function(){return{timer:null,width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},mounted:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.text.clientWidth,"720p"===t.resolution?t.addAnimation(t.id,1280,t.width):"1080p"===t.resolution&&t.addAnimation(t.id,1920,t.width)}))},computed:{styleBasic:function(){return"no"===this.data.show||this.fixed?{top:this.data.top+"%",left:this.data.left+"%",zIndex:this.updateTime}:{top:this.data.top+"%",left:"100%",zIndex:this.updateTime}},styleText:function(){var t,e=Math.round(this.data.speed/1e3);return"no"===this.data.show?{fontSize:this.data.size+"px",fontWeight:"bold",color:this.data.color}:("one"===this.data.show?t=!1:"loop"===this.data.show&&(t=!0),{fontSize:this.data.size+"px",fontWeight:"bold",color:this.data.color,animationName:"text_marquee_"+this.id,animationTimingFunction:"linear",animationDirection:"normal",animationFillMode:"none",animationIterationCount:t?"infinite":"initial",animationDuration:e+"s"})}},methods:{addAnimation:function(t,e,a){var s=e+a;this.addStylesheetRules(["@keyframes text_marquee_"+t+" {\n            0% {\n              transform: translateX(0px);\n              -webkit-transform: translateX(0px);\n            }\n            100% {\n              transform: translateX(-"+s+"px);\n              -webkit-transform: translateX(-"+s+"px);\n            }\n          }"])},addStylesheetRules:function(t){var e=document.createElement("style");document.head.appendChild(e);for(var a=e.sheet,s=0;s<t.length;s++)a.insertRule(t[s],a.cssRules.length)},mouseDown:function(t){var e=this,a=.3125;if("1080p"===this.$store.state.size.name&&(a=.20833333),this.removable){this.$nextTick((function(){e.width=e.$refs.text.clientWidth,e.height=e.$refs.text.clientHeight})),this.startY=t.clientY,this.startX=t.clientX,this.startLeft=Math.round(Number(this.data.left)*this.$store.state.size.w/100),this.startTop=Math.round(Number(this.data.top)*this.$store.state.size.h/100);var s=function(t){var s=t.clientX,r=t.clientY;if(e.allowedOverStep)e.data.top=Math.round(100*(r-e.startY+e.startTop)/e.$store.state.size.h),e.data.left=Math.round(100*(s-e.startX+e.startLeft)/e.$store.state.size.w);else{var i=Math.round(100*((r-e.startY)/a+e.startTop)/e.$store.state.size.h);i<0?e.data.top=0:Math.round(i*e.$store.state.size.h/100+Math.round(e.height*e.data.zoom/100))>e.$store.state.size.h?e.data.top=100*(e.$store.state.size.h-Math.round(e.height*e.data.zoom/100))/e.$store.state.size.h:e.data.top=i;var o=Math.round(100*((s-e.startX)/a+e.startLeft)/e.$store.state.size.w);o<0?e.data.left=0:Math.round(o*e.$store.state.size.w/100+Math.round(e.width*e.data.zoom/100))>e.$store.state.size.w?e.data.left=100*(e.$store.state.size.w-Math.round(e.width*e.data.zoom/100))/e.$store.state.size.w:e.data.left=o}},r=function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)}},keyboard:function(t){t.preventDefault(),t.stopPropagation(),13===t.keyCode||(37===t.keyCode?this.data.left--:38===t.keyCode?this.data.top--:39===t.keyCode?this.data.left++:40===t.keyCode&&this.data.top++)},selfAdapation:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.text.clientWidth,t.height=t.$refs.text.clientHeight,Math.round(t.width*t.data.zoom/100)>t.$store.state.size.w&&(t.data.zoom=Math.round(100*t.$store.state.size.w/t.width));var e=t.data.top;e<0?t.data.top=0:Math.round(e*t.$store.state.size.h/100+Math.round(t.height*t.data.zoom/100))>t.$store.state.size.h?t.data.top=100*(t.$store.state.size.h-Math.round(t.height*t.data.zoom/100))/t.$store.state.size.h:t.data.top=e;var a=t.data.left;a<0?t.data.left=0:Math.round(a*t.$store.state.size.w/100+Math.round(t.width*t.data.zoom/100))>t.$store.state.size.w?t.data.left=100*(t.$store.state.size.w-Math.round(t.width*t.data.zoom/100))/t.$store.state.size.w:t.data.left=a}))}}}),U=W,J=(a("2977"),Object(o["a"])(U,F,A,!1,null,"a0ddc696",null)),V=J.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.isShow?a("div",{ref:"bar",staticClass:"bar-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",src:t.data.src,tabindex:1}},[t.data.style<=3?a("img",{staticClass:"m-img",attrs:{draggable:"false",src:"https://static.guangdianyun.tv/static/broadCloud/console/newBcc/lcpsMake/img/bar"+t.data.style+".png"}}):t._e(),t.data.style>=4&&"720p"==t.$store.state.size.name?a("img",{staticClass:"m-img",attrs:{draggable:"false",src:"https://guangdianyun.oss-cn-hangzhou.aliyuncs.com/lcpsSource/bar/"+t.data.style+".png"}}):t._e(),t.data.style>=4&&"1080p"==t.$store.state.size.name?a("img",{staticClass:"m-img",attrs:{draggable:"false",src:"https://guangdianyun.oss-cn-hangzhou.aliyuncs.com/lcpsSource/bar/"+t.data.style+"_h.png"}}):t._e(),"720p"==t.$store.state.size.name?a("div",{class:[{"bar-font-1":1==Number(t.data.style),"bar-font-2":2==Number(t.data.style),"bar-font-3":3==Number(t.data.style),"bar-font-4":4==Number(t.data.style),"bar-font-5":5==Number(t.data.style),"bar-font-6":6==Number(t.data.style),"bar-font-7":7==Number(t.data.style),"bar-font-8":8==Number(t.data.style),"bar-font-9":9==Number(t.data.style)}]},[a("div",{staticClass:"bar-text-main",style:t.styleFont},[t._v(t._s(t.data.maintitle))]),a("div",{staticClass:"bar-text-sub",style:t.styleFont},[t._v(t._s(t.data.subtitle))])]):t._e(),"1080p"==t.$store.state.size.name?a("div",{class:[{"bar-font-1-high":1==Number(t.data.style),"bar-font-2-high":2==Number(t.data.style),"bar-font-3-high":3==Number(t.data.style),"bar-font-4-high":4==Number(t.data.style),"bar-font-5-high":5==Number(t.data.style),"bar-font-6-high":6==Number(t.data.style),"bar-font-7-high":7==Number(t.data.style),"bar-font-8-high":8==Number(t.data.style),"bar-font-9-high":9==Number(t.data.style)}]},[a("div",{staticClass:"bar-text-main",style:t.styleFont},[t._v(t._s(t.data.maintitle))]),a("div",{staticClass:"bar-text-sub",style:t.styleFont},[t._v(t._s(t.data.subtitle))])]):t._e()]):t._e()},K=[],G={name:"BarEle",props:{isShow:Number,data:Object,updateTime:Number,selected:Boolean,removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",opacity:this.data.opacity/100,zoom:this.data.zoom+"%",zIndex:this.updateTime}},styleAnime:function(){return{}},styleFont:function(){return{fontSize:this.data.size+"px",color:this.data.color}}},methods:{mouseDown:function(t){var e=this,a=.3125;if("1080p"===this.$store.state.size.name&&(a=.20833333),this.removable){this.$nextTick((function(){e.width=e.$refs.bar.clientWidth,e.height=e.$refs.bar.clientHeight})),this.startY=t.clientY,this.startX=t.clientX,this.startLeft=Math.round(Number(this.data.left)*this.$store.state.size.w/100),this.startTop=Math.round(Number(this.data.top)*this.$store.state.size.h/100);var s=function(t){var s=t.clientX,r=t.clientY;if(e.allowedOverStep)e.data.top=Math.round(100*(r-e.startY+e.startTop)/e.$store.state.size.h),e.data.left=Math.round(100*(s-e.startX+e.startLeft)/e.$store.state.size.w);else{var i=Math.round(100*((r-e.startY)/a+e.startTop)/e.$store.state.size.h);i<0?e.data.top=0:Math.round(i*e.$store.state.size.h/100+Math.round(e.height*e.data.zoom/100))>e.$store.state.size.h?e.data.top=100*(e.$store.state.size.h-Math.round(e.height*e.data.zoom/100))/e.$store.state.size.h:e.data.top=i;var o=Math.round(100*((s-e.startX)/a+e.startLeft)/e.$store.state.size.w);o<0?e.data.left=0:Math.round(o*e.$store.state.size.w/100+Math.round(e.width*e.data.zoom/100))>e.$store.state.size.w?e.data.left=100*(e.$store.state.size.w-Math.round(e.width*e.data.zoom/100))/e.$store.state.size.w:e.data.left=o}},r=function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)}},keyboard:function(t){t.preventDefault(),t.stopPropagation(),13===t.keyCode||(37===t.keyCode?this.data.left--:38===t.keyCode?this.data.top--:39===t.keyCode?this.data.left++:40===t.keyCode&&this.data.top++),this.selfAdapation()},selfAdapation:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.bar.clientWidth,t.height=t.$refs.bar.clientHeight;var e=t.data.top;e<0?t.data.top=0:Math.round(e*t.$store.state.size.h/100+Math.round(t.height*t.data.zoom/100))>t.$store.state.size.h?t.data.top=100*(t.$store.state.size.h-Math.round(t.height*t.data.zoom/100))/t.$store.state.size.h:t.data.top=e;var a=t.data.left;a<0?t.data.left=0:Math.round(a*t.$store.state.size.w/100+Math.round(t.width*t.data.zoom/100))>t.$store.state.size.w?t.data.left=100*(t.$store.state.size.w-Math.round(t.width*t.data.zoom/100))/t.$store.state.size.w:t.data.left=a}))}}},Q=G,Z=(a("9c24"),Object(o["a"])(Q,q,K,!1,null,"672a5d00",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.isShow?a("div",{ref:"score",staticClass:"score-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("img",{staticClass:"m-img",attrs:{draggable:"false",src:"https://static.guangdianyun.tv/static/broadCloud/console/newBcc/lcpsMake/img/score"+t.data.style+".png"}}),a("div",{class:[{"score-font-1":1==Number(t.data.style),"score-font-2":2==Number(t.data.style),"score-font-3":3==Number(t.data.style)}]},[a("div",{staticClass:"score-home-name",style:t.styleFont},[t._v(t._s(t.data.home.name))]),a("div",{staticClass:"score-home-score",style:t.styleFont},[t._v(" "+t._s(t.data.home.score)+" ")]),a("div",{staticClass:"score-guest-name",style:t.styleFont},[t._v(" "+t._s(t.data.guest.name)+" ")]),a("div",{staticClass:"score-guest-score",style:t.styleFont},[t._v(" "+t._s(t.data.guest.score)+" ")])])]):t._e()},at=[],st={name:"ScoreEle",props:{isShow:Number,data:Object,updateTime:Number,selected:Boolean,removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",opacity:this.data.opacity/100,zoom:this.data.zoom+"%",zIndex:this.updateTime}},styleAnime:function(){return{}},styleFont:function(){return{fontSize:this.data.size+"px",color:this.data.color}}},methods:{mouseDown:function(t){var e=this,a=.3125;if("1080p"===this.$store.state.size.name&&(a=.20833333),this.removable){this.$nextTick((function(){e.width=e.$refs.score.clientWidth,e.height=e.$refs.score.clientHeight})),this.startY=t.clientY,this.startX=t.clientX,this.startLeft=Math.round(Number(this.data.left)*this.$store.state.size.w/100),this.startTop=Math.round(Number(this.data.top)*this.$store.state.size.h/100);var s=function(t){var s=t.clientX,r=t.clientY;if(e.allowedOverStep)e.data.top=Math.round(100*(r-e.startY+e.startTop)/e.$store.state.size.h),e.data.left=Math.round(100*(s-e.startX+e.startLeft)/e.$store.state.size.w);else{var i=Math.round(100*((r-e.startY)/a+e.startTop)/e.$store.state.size.h);i<0?e.data.top=0:Math.round(i*e.$store.state.size.h/100+Math.round(e.height*e.data.zoom/100))>e.$store.state.size.h?e.data.top=100*(e.$store.state.size.h-Math.round(e.height*e.data.zoom/100))/e.$store.state.size.h:e.data.top=i;var o=Math.round(100*((s-e.startX)/a+e.startLeft)/e.$store.state.size.w);o<0?e.data.left=0:Math.round(o*e.$store.state.size.w/100+Math.round(e.width*e.data.zoom/100))>e.$store.state.size.w?e.data.left=100*(e.$store.state.size.w-Math.round(e.width*e.data.zoom/100))/e.$store.state.size.w:e.data.left=o}},r=function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)}},keyboard:function(t){t.preventDefault(),t.stopPropagation(),13===t.keyCode||(37===t.keyCode?this.data.left--:38===t.keyCode?this.data.top--:39===t.keyCode?this.data.left++:40===t.keyCode&&this.data.top++),this.selfAdapation()},selfAdapation:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.score.clientWidth,t.height=t.$refs.score.clientHeight,Math.round(t.width*t.data.zoom/100)>t.$store.state.size.w&&(t.data.zoom=Math.round(100*t.$store.state.size.w/t.width));var e=t.data.top;e<0?t.data.top=0:Math.round(e*t.$store.state.size.h/100+Math.round(t.height*t.data.zoom/100))>t.$store.state.size.h?t.data.top=100*(t.$store.state.size.h-Math.round(t.height*t.data.zoom/100))/t.$store.state.size.h:t.data.top=e;var a=t.data.left;a<0?t.data.left=0:Math.round(a*t.$store.state.size.w/100+Math.round(t.width*t.data.zoom/100))>t.$store.state.size.w?t.data.left=100*(t.$store.state.size.w-Math.round(t.width*t.data.zoom/100))/t.$store.state.size.w:t.data.left=a}))}}},rt=st,it=(a("e838"),Object(o["a"])(rt,et,at,!1,null,"4822186c",null)),ot=it.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.isShow?a("div",{staticClass:"time-ele",class:{selected:t.selected},style:t.styleBasic,attrs:{draggable:"false",tabindex:1}},[a("section",{ref:"content",staticClass:"content"},[a("div",[a("span",{ref:"time",staticClass:"time",style:t.styleText},[t._v(t._s(t.timeString))])])])]):t._e()},dt=[],ut=a("5a0c"),ct=a.n(ut),lt={name:"TimeEle",props:{id:Number,isShow:Number,data:Object,updateTime:Number,selected:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},allowedOverStep:{type:Boolean,default:!1}},data:function(){return{timer:null,timeString:"",format_data:"YYYY-MM-DD dddd HH:mm:ss",width:0,height:0,startX:0,startY:0,startTop:0,startLeft:0}},created:function(){var t=this;switch(this.data.style){case 1:this.format_data="HH:mm:ss";break;case 2:this.format_data="YYYY-MM-DD";break;case 3:this.format_data="YYYY-MM-DD HH:mm:ss";break;default:break}this.timer&&clearInterval(this.timer),this.timeString=ct()().format(this.format_data),this.timer=setInterval((function(){t.timeString=ct()().format(t.format_data)}),1e3)},beforeDestroy:function(){clearInterval(this.timer)},computed:{styleBasic:function(){return{top:this.data.top+"%",left:this.data.left+"%",zIndex:this.updateTime}},styleText:function(){return{fontSize:this.data.size+"px",fontWeight:"500",color:this.data.color}},dateString:function(){var t=this;return function(){return ct()().format(t.format_data)}}},methods:{mouseDown:function(t){var e=this,a=.3125;if("1080p"===this.$store.state.size.name&&(a=.20833333),this.removable){this.$nextTick((function(){e.width=e.$refs.text.clientWidth,e.height=e.$refs.text.clientHeight})),this.startY=t.clientY,this.startX=t.clientX,this.startLeft=Math.round(Number(this.data.left)*this.$store.state.size.w/100),this.startTop=Math.round(Number(this.data.top)*this.$store.state.size.h/100);var s=function(t){var s=t.clientX,r=t.clientY;if(e.allowedOverStep)e.data.top=Math.round(100*(r-e.startY+e.startTop)/e.$store.state.size.h),e.data.left=Math.round(100*(s-e.startX+e.startLeft)/e.$store.state.size.w);else{var i=Math.round(100*((r-e.startY)/a+e.startTop)/e.$store.state.size.h);i<0?e.data.top=0:Math.round(i*e.$store.state.size.h/100+Math.round(e.height*e.data.zoom/100))>e.$store.state.size.h?e.data.top=100*(e.$store.state.size.h-Math.round(e.height*e.data.zoom/100))/e.$store.state.size.h:e.data.top=i;var o=Math.round(100*((s-e.startX)/a+e.startLeft)/e.$store.state.size.w);o<0?e.data.left=0:Math.round(o*e.$store.state.size.w/100+Math.round(e.width*e.data.zoom/100))>e.$store.state.size.w?e.data.left=100*(e.$store.state.size.w-Math.round(e.width*e.data.zoom/100))/e.$store.state.size.w:e.data.left=o}},r=function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)}},keyboard:function(t){t.preventDefault(),t.stopPropagation(),13===t.keyCode||(37===t.keyCode?this.data.left--:38===t.keyCode?this.data.top--:39===t.keyCode?this.data.left++:40===t.keyCode&&this.data.top++)},selfAdapation:function(){var t=this;this.$nextTick((function(){t.width=t.$refs.text.clientWidth,t.height=t.$refs.text.clientHeight,Math.round(t.width*t.data.zoom/100)>t.$store.state.size.w&&(t.data.zoom=Math.round(100*t.$store.state.size.w/t.width));var e=t.data.top;e<0?t.data.top=0:Math.round(e*t.$store.state.size.h/100+Math.round(t.height*t.data.zoom/100))>t.$store.state.size.h?t.data.top=100*(t.$store.state.size.h-Math.round(t.height*t.data.zoom/100))/t.$store.state.size.h:t.data.top=e;var a=t.data.left;a<0?t.data.left=0:Math.round(a*t.$store.state.size.w/100+Math.round(t.width*t.data.zoom/100))>t.$store.state.size.w?t.data.left=100*(t.$store.state.size.w-Math.round(t.width*t.data.zoom/100))/t.$store.state.size.w:t.data.left=a}))}},watch:{"data.style":{handler:function(t,e){var a=this;if(t!==e){switch(t){case 1:this.format_data="HH:mm:ss";break;case 2:this.format_data="YYYY-MM-DD";break;case 3:this.format_data="YYYY-MM-DD HH:mm:ss";break;default:break}this.timer&&clearInterval(this.timer),this.timeString=ct()().format(this.format_data),this.timer=setInterval((function(){a.timeString=ct()().format(a.format_data)}),1e3)}},deep:!0,immediate:!0}}},ht=lt,mt=(a("f631"),Object(o["a"])(ht,nt,dt,!1,null,"41896e4c",null)),pt=mt.exports;function ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function vt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ft(a,!0).forEach((function(e){Object(P["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ft(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var gt={ImgEle:H,TextEle:V,BarEle:tt,ScoreEle:ot,TimeEle:pt},yt=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||(Object.keys(gt).forEach((function(t){e.component(gt[t].name,gt[t])})),t.installed=!0)};yt.installed=!1,"undefined"!==typeof window&&window.Vue&&(yt(window.Vue),yt.installed=!0);var wt=vt({},gt,{install:yt}),bt=wt,$t=a("dc21"),zt=a("5921"),Mt=a("82dc"),Tt=a("e594"),Ot=(a("c975"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276"),{parseUrl:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getCookie:function(t){for(var e=t+"=",a=decodeURIComponent(document.cookie),s=a.split(";"),r=0;r<s.length;r++){var i=s[r];while(" "===i.charAt(0))i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""}}),xt=a("9224");a("c860");s["a"].config.productionTip=!1,s["a"].use(bt),s["a"].use(I.a),$t["e"]({dsn:"https://9ca134d9aa3b4ed5ab471bd34ee808d0@sentry.io/1533867",integrations:[new Tt["a"]({Vue:s["a"],attachProps:!0})],release:xt.version,environment:"production"}),s["a"].prototype.$axios=C.a,s["a"].prototype.$utils=Ot,s["a"].prototype.$sentry=zt,s["a"].prototype.$cookies=I.a,E.beforeEach((function(t,e,a){var s=String(Ot.parseUrl("appId")),r=String(Ot.parseUrl("uin")),i="";i="";var o={appid:s,uin:r,env:i};L.dispatch("refreshData",{name:"lcpsData",value:o}),C()({method:"get",url:v.getDmsInfo+r,headers:{"X-Ca-Stage":i,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(t){t&&200===Number(t.data.code)&&0===Number(t.data.errorCode)?(L.dispatch("refreshData",{name:"dmsInfo",value:t.data.data}),C()({method:"get",url:v.getAppInfo+s,headers:{"X-Ca-Stage":i,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(t){if(t&&200===Number(t.data.code)&&0===Number(t.data.errorCode)){var e=0,s=0;return"720p"===t.data.data.outputResolution?(e=1280,s=720):"1080p"===t.data.data.outputResolution&&(e=1920,s=1080),L.dispatch("refreshData",{name:"size",value:{name:t.data.data.outputResolution,w:e,h:s}}),a()}Mt["g"]("response",{res:t}),Mt["c"](new Error("导播台信息获取失败:"+t.data.errorMessage))})).catch((function(t){Mt["g"]("response",{err:t.response}),Mt["c"](new Error("导播台信息获取异常:"+t))}))):(Mt["g"]("response",{res:t}),Mt["c"](new Error("DMS 信息获取失败:"+t.data.errorMessage)))})).catch((function(t){Mt["g"]("response",{err:t.response}),Mt["c"](new Error("DMS 信息获取异常:"+t))}))})),new s["a"]({router:E,store:L,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"64c6":function(t,e,a){},"6a9e":function(t,e,a){},9224:function(t){t.exports=JSON.parse('{"name":"lcps-scene","version":"0.6.5","author":"Whzcorcd <whzcorcd@gmail.com>","private":true,"scripts":{"serve:dev":"cross-env run_server=development vue-cli-service serve -mode development","serve:pre":"cross-env run_server=preview vue-cli-service serve -mode development","serve:prod":"cross-env run_server=production vue-cli-service serve -mode development","build:dev":"cross-env run_server=development vue-cli-service build --no-clean","build:pre":"cross-env run_server=preview vue-cli-service build --no-clean","build:prod":"cross-env run_server=production vue-cli-service build --no-clean","lint":"vue-cli-service lint","format":"prettier-eslint --write \\"src/**/*.js\\" \\"src/**/*.vue\\"","test:unit":"vue-cli-service test:unit"},"dependencies":{"@sentry/browser":"^5.9.1","@sentry/integrations":"^5.8.0","axios":"^0.19.0","core-js":"^3.3.2","dayjs":"^1.8.16","vue":"^2.6.10","vue-cookies":"^1.5.13","vue-router":"^3.0.3","vuex":"^3.0.1"},"devDependencies":{"@vue/cli-plugin-babel":"^4.0.5","@vue/cli-plugin-eslint":"^4.0.5","@vue/cli-plugin-unit-jest":"^4.0.5","@vue/cli-service":"^4.0.5","@vue/test-utils":"1.0.0-beta.29","babel-core":"7.0.0-bridge.0","babel-eslint":"^10.0.1","babel-jest":"^23.6.0","compression-webpack-plugin":"^3.0.0","cross-env":"^6.0.3","eslint":"^5.16.0","eslint-plugin-html":"^6.0.0","eslint-plugin-prettier":"^3.1.1","eslint-plugin-vue":"^6.0.1","node-sass":"^4.9.0","prettier-eslint":"^9.0.1","prettier-eslint-cli":"^5.0.0","sass-loader":"^8.0.0","terser-webpack-plugin":"^2.2.1","vue-template-compiler":"^2.6.10"}}')},"9c0c":function(t,e,a){},"9c24":function(t,e,a){"use strict";var s=a("0ab9"),r=a.n(s);r.a},c860:function(t,e,a){},e838:function(t,e,a){"use strict";var s=a("2d08"),r=a.n(s);r.a},e9b7:function(t,e,a){"use strict";var s=a("11e5"),r=a.n(s);r.a},f631:function(t,e,a){"use strict";var s=a("64c6"),r=a.n(s);r.a}});
//# sourceMappingURL=app.39e13a81.js.map